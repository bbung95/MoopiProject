<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.moopi.mvc.service.user.UserDao">
 	
<resultMap id="userSelectMap" type="user">
		<result property="userId"			column="USER_ID"			jdbcType="VARCHAR"/>
		<result property="password"			column="PWD"				jdbcType="VARCHAR"/>
		<result property="userName"			column="USER_NAME"			jdbcType="VARCHAR"/>
		<result property="phone"			column="PHONE"				jdbcType="VARCHAR"/>
		<result property="birth"			column="BIRTH"				jdbcType="DATE"/>
		<result property="age"				column="AGE"				jdbcType="NUMERIC"/>
		<result property="gender"			column="GENDER"				jdbcType="VARCHAR"/>
		<result property="joinPath"			column="JOIN_PATH"			jdbcType="CHAR"/>
		<result property="regDate"			column="REGDATE"			jdbcType="DATE"/>
		<result property="userRole"			column="USER_ROLE"			jdbcType="VARCHAR"/>
		<result property="fullAddr"			column="FULL_ADDR"			jdbcType="VARCHAR"/>
		<result property="addr"				column="ADDR"				jdbcType="VARCHAR"/>
		<result property="nickname"			column="NICKNAME"			jdbcType="VARCHAR"/>
		<result property="profileImage"		column="PROFILE_IMAGE"		jdbcType="VARCHAR"/>
		<result property="profileContent"	column="PROFILE_CONTENT"	jdbcType="VARCHAR"/>
		<result property="interestFirst"	column="INTEREST_FIRST"		jdbcType="NUMERIC"/>
		<result property="interestSecond"	column="INTEREST_SECONT"		jdbcType="NUMERIC"/>
		<result property="interestThird"	column="INTEREST_THIRD"		jdbcType="NUMERIC"/>
		<result property="myhomeState"		column="MYHOME_STATE"		jdbcType="CHAR"/>
		<result property="stateReason"		column="STATE_REASON"		jdbcType="VARCHAR"/>
		<result property="stateRegdate"		column="STATE_REGDATE"		jdbcType="DATE"/>
		<result property="coin"				column="COIN"				jdbcType="NUMERIC"/>
		<result property="badge"			column="BADGE"				jdbcType="CHAR"/>
	</resultMap>
	
	<!-- 
	<select id="findPayment" parameterType="int" resultMap="userSelectMap">
		SELECT
			user_id , user_name , password , role ,  cell_phone ,  addr , email , reg_date 		
			FROM users 
		WHERE user_id = #{userId}	
	</select>
	 -->
	
	
	<insert id="addUser"	parameterType="user" >
		INSERT 
		INTO users( USER_ID, PWD, USER_NAME, PHONE, BIRTH, AGE, GENDER, JOIN_PATH, REGDATE, USER_ROLE, FULL_ADDR, ADDR, NICKNAME )
		VALUES ( #{userId}, #{password}, #{userName}, #{phone}, #{birth}, #{age}, #{gender}, #{joinPath}, #{regDate}, #{userRole}, #{fullAddr}, #{addr}, #{nickname} );
	</insert>
	
	<select id="getUser"	parameterType="String" resultMap="userSelectMap">
		SELECT USER_ID, PWD, USER_NAME, PHONE, BIRTH, AGE, GENDER, JOIN_PATH, REGDATE, USER_ROLE, FULL_ADDR, ADDR, NICKNAME 
		FROM users 
		WHERE USER_ID = #{userId}
	</select>
	
</mapper>